function getBase(){return JSON.parse(localStorage.getItem("todoBase"))}function setBase(e){let t=getBase();t.push(e),localStorage.setItem("todoBase",JSON.stringify(t))}function dellBase(e){let t=getBase();t.splice(e,1),localStorage.setItem("todoBase",JSON.stringify(t))}function outputElement(){let e=document.getElementById("main-list");const t=getBase();let i='\n                <li class="list-task" >\n                    <div >\n                        <p>Статус Задачи</p>\n                    </div>\n                    <div  >\n                        <p>Текст Задачи</p>\n                    </div>\n                    <div  >\n                        <p>Время Дедлайна</p>\n                    </div>\n                    <div >\n                        <p>Кнопки</p>\n                    </div>\n                </li>\n                ';t.forEach((e,t,n)=>{i+=compileElement(e,t)}),e.innerHTML=i}function newElement(e){e.preventDefault();const t=document.forms.mainForm;let i=t.elements.done.checked;if(checkText(t.elements.text)&&checkDate(t.elements.date)){let e={text:"",date:"",done:!1};e.done=i,e.text=t.elements.text.value,e.date=createNewDate(t.elements.date.value),setBase(e),outputElement()}else console.log("Проверте валидность форм")}function dellElement(e){dellBase(e),outputElement()}function compileElement(e,t){return`\n        <li class="list-task">\n            <div class="task-icon" >\n              <i class="fa ${e.done?"fa-check":"fa-times"} "></i>\n            </div>\n            <div class="task-text" >\n                <p>${e.text}</p>\n            </div>\n            <div class="task-time" >\n                <p>${e.date}</p>\n            </div>\n            <div class="task-button" >\n                <input type="button" value="dell" onclick="dellElement(${t})">\n            </div>\n        </li>\n    `}function checkText(e){e.classList="";let t=e.value;return""==t?(e.classList="err",!1):t.length<5?(e.classList="err",!1):!/[!%&#\\^*?\/~="';:+]/.test(t)||(e.classList="err",!1)}function checkDate(e){e.classList="";let t=e.value;const i=/[!%&#\\^*?\/~="'+]/;if(i.test(t))return console.log(`Удалите запрещенные символы ${i} `),e.classList="err",!1;return!(t.split(/[.,:; ]/).length<3)||(console.log("Недостаточно точное время"),e.classList="err",!1)}function createNewDate(e){let t=e.split(/[.,:; ]/),i={year:t[2],month:checkMonth(t[1]),day:t[0],hour:t[3]||0,minute:t[4]||0,second:t[5]||0};return new Date(i.year,i.month,i.day,i.hour,i.minute,i.second).toLocaleString("ru",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}function checkMonth(e){let t=["January","February","March","April","May","June","July","August","September","October","November","December"];if(isNaN(Number(e))){let n="";for(var i=0;i<t.length;i+=1)t[i].match(e)&&(n=i);return Number(n)?n:0}return e>0?e-1:0}window.onload=function(){const e=[{text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Et, ipsum! 10",date:createNewDate("15.02.2000 19:35:40"),done:!0},{text:" Lorem ipsum dolor sit amet, consectetur adipisicing. 7",date:createNewDate("55.02.2000 19:35:40"),done:!0},{text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci cum dignissimos eligendi est et ex, excepturi explicabo facere nihil non. 20",date:createNewDate("25,10,1989"),done:!1},{text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci cum dignissimos eligendi est et ex, excepturi explicabo facere nihil non. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci cum dignissimos eligendi est et ex, excepturi explicabo facere nihil non. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci cum dignissimos eligendi est et ex, excepturi explicabo facere nihil non. 20",date:createNewDate("45,10,1989"),done:!1}];localStorage.setItem("todoBase",JSON.stringify(e)),outputElement()};